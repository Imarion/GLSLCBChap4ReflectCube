#version 430

in vec3 ReflectDir;

layout(binding=0) uniform samplerCube CubeMapTex;

uniform bool  DrawSkyBox;
uniform float ReflectFactor;
uniform vec4  MaterialColor;

out vec4 FragColor;

void main()
{
// Access the cube map texture
    vec4 cubeMapColor = texture(CubeMapTex, ReflectDir);

    if (DrawSkyBox) {
        FragColor = cubeMapColor;
    } else {
        FragColor = mix(MaterialColor, cubeMapColor, ReflectFactor);
    }

    //FragColor = vec4(ambAndDiff, 1.0) * baseColor + vec4(spec, 1.0) * baseColor;
    //FragColor = vec4(1.0, 0.0, 0.0, 1.0);
}
